(this.webpackJsonpreactroute=this.webpackJsonpreactroute||[]).push([[0],{125:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),n=c(13),r=c.n(n),l=(c(97),c(6));function i(){var e=Object(s.useState)(function(){var e=localStorage.getItem("token");return JSON.parse(e)}()),t=Object(l.a)(e,2),c=t[0],a=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:c}}var o=c(12),d=c(1);var j=function(){var e=i().token;return Object(d.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-gradient-primary topbar mb-4 static-top shadow",children:[Object(d.jsx)("p",{className:" font-weight-bold text-white d-sm-none d-xs-none d-md-none d-lg-inline d-xl-inline pt-3",children:"Christopher Badminton Academy"}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(d.jsx)("div",{className:"navbar-nav ml-2",children:Object(d.jsxs)("div",{className:"btn-group btn-group-sm",children:[Object(d.jsxs)(o.b,{to:"/",className:"nav-link btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-home fa-lg text-white"}),Object(d.jsx)("span",{className:"p-2",children:"Home"})]}),Object(d.jsxs)(o.b,{to:"/sector",class:"nav-link btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-fw fa-baseball-ball fa-lg text-white "}),Object(d.jsx)("span",{className:"p-2",children:"Sector"})]}),Object(d.jsxs)(o.b,{to:"/user",class:"nav-link btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-fw fa-user-cog fa-lg text-white"}),Object(d.jsx)("span",{className:"p-2",children:"Club"})]}),Object(d.jsxs)(o.b,{to:"/admin",class:"nav-link btn btn-primary",children:[Object(d.jsx)("i",{className:"fas fa-fw fa-user-shield fa-lg text-white"}),Object(d.jsx)("span",{className:"p-2",children:"Admin "})]})]})})}),Object(d.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(d.jsx)("div",{className:"topbar-divider d-none d-sm-block"}),Object(d.jsxs)("li",{className:"nav-item dropdown no-arrow ",children:[Object(d.jsxs)("a",{className:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(d.jsx)("span",{class:"mr-2 d-none d-lg-inline font-weight-bold large  text-capitalize mr-4",children:e}),Object(d.jsx)("i",{className:"fas fa-user fa-2x"})]}),Object(d.jsxs)("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown",children:[Object(d.jsx)("div",{className:"dropdown-divider"}),Object(d.jsxs)("a",{className:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#logoutModal ",onClick:function(e){e.preventDefault(),localStorage.clear(),window.location.reload()},children:[Object(d.jsx)("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout"]})]})]})]})]})},b=a.a.createContext(),h=b,u=function(e){var t=e.children,c=Object(s.useState)("https://cba-cors.herokuapp.com/https://cba-adminws-dev.herokuapp.com/"),a=Object(l.a)(c,1)[0];return Object(d.jsx)(b.Provider,{value:a,children:t})},m=c(14),x=c.n(m);var O=function(){var e=Object(s.useContext)(h),t=Object(s.useState)([]),c=Object(l.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)(!1),i=Object(l.a)(r,2),o=(i[0],i[1]),j=Object(s.useState)([]),b=Object(l.a)(j,2),u=b[0],m=b[1],O=Object(s.useState)([]),p=Object(l.a)(O,2),f=p[0],g=p[1];return Object(s.useEffect)((function(){o(!0),fetch(e+"api/v1/person").then((function(e){return e.json()})).then((function(e){n(e.Stats)})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))}),[]),Object(s.useEffect)((function(){x.a.get(e+"api/v1/sector",{params:{type:"BATCH"},headers:{active:!0}}).then((function(e){m(e.data.Sectors)})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))}),[]),Object(s.useEffect)((function(){x.a.get(e+"api/v1/sector",{params:{type:"SLOT"},headers:{active:!0}}).then((function(e){g(e.data.Sectors)})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{class:"col-xl-3 col-md-6 mb-4",children:Object(d.jsx)("div",{class:"card border-left-success shadow h-100 py-2",children:Object(d.jsx)("div",{class:"card-body",children:Object(d.jsxs)("div",{class:"row no-gutters align-items-center",children:[Object(d.jsxs)("div",{class:"col mr-2",children:[Object(d.jsx)("div",{class:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Active Members"}),Object(d.jsx)("div",{class:"h5 mb-0 font-weight-bold text-gray-800",children:a.ActivePerson})]}),Object(d.jsx)("div",{class:"col-auto",children:Object(d.jsx)("i",{class:"fas fa-globe  fa-2x text-gray-500"})})]})})})}),Object(d.jsx)("div",{class:"col-xl-3 col-md-6 mb-4",children:Object(d.jsx)("div",{class:"card border-left-danger shadow h-100 py-2",children:Object(d.jsx)("div",{class:"card-body",children:Object(d.jsxs)("div",{class:"row no-gutters align-items-center",children:[Object(d.jsxs)("div",{class:"col mr-2",children:[Object(d.jsx)("div",{class:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"InActive Members"}),Object(d.jsx)("div",{class:"h5 mb-0 font-weight-bold text-gray-800",children:a.InActivePerson})]}),Object(d.jsx)("div",{class:"col-auto",children:Object(d.jsx)("i",{class:"fas fa-users-slash fa-2x text-gray-500"})})]})})})}),Object(d.jsx)("div",{class:"col-xl-3 col-md-6 mb-4",children:Object(d.jsx)("div",{class:"card border-left-info shadow h-100 py-2",children:Object(d.jsx)("div",{class:"card-body",children:Object(d.jsxs)("div",{class:"row no-gutters align-items-center",children:[Object(d.jsxs)("div",{class:"col mr-2",children:[Object(d.jsx)("div",{class:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Total Members"}),Object(d.jsx)("div",{class:"h5 mb-0 font-weight-bold text-gray-800",children:a.TotalPerson})]}),Object(d.jsx)("div",{class:"col-auto",children:Object(d.jsx)("i",{class:"fas fa-user-friends fa-2x text-gray-500"})})]})})})}),Object(d.jsx)("div",{class:"col-xl-3 col-md-6 mb-4",children:Object(d.jsx)("div",{class:"card border-left-secondary shadow h-100 py-2",children:Object(d.jsx)("div",{class:"card-body",children:Object(d.jsxs)("div",{class:"row no-gutters align-items-center",children:[Object(d.jsxs)("div",{class:"col mr-2",children:[Object(d.jsx)("div",{class:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Batches"}),Object(d.jsx)("div",{class:"h5 mb-0 font-weight-bold text-gray-800",children:u.length})]}),Object(d.jsx)("div",{class:"col-auto",children:Object(d.jsx)("i",{class:"fas fa-user-clock fa-2x text-gray-500"})})]})})})}),Object(d.jsx)("div",{class:"col-xl-3 col-md-6 mb-4",children:Object(d.jsx)("div",{class:"card border-left-dark shadow h-100 py-2",children:Object(d.jsx)("div",{class:"card-body",children:Object(d.jsxs)("div",{class:"row no-gutters align-items-center",children:[Object(d.jsxs)("div",{class:"col mr-2",children:[Object(d.jsx)("div",{class:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"SLOTs "}),Object(d.jsx)("div",{class:"h5 mb-0 font-weight-bold text-gray-800",children:f.length})]}),Object(d.jsx)("div",{class:"col-auto",children:Object(d.jsx)("i",{class:"fas fa-user-tag fa-2x text-gray-500"})})]})})})})]})};var p=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:Object(d.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"Dashboard"})}),Object(d.jsx)("div",{class:"row",children:Object(d.jsx)(O,{})})]})},f=c(10),g=(c(74),c(75),c(76),c(30)),v=c.n(g);var N=function(){v()(document).ready((function(){v()("#dataTable").DataTable()}));var e=Object(s.useContext)(h),t=Object(s.useState)([]),c=Object(l.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)(!1),i=Object(l.a)(r,2),j=i[0],b=i[1];return Object(s.useEffect)((function(){b(!0),fetch(e+"api/v1/person").then((function(e){return e.json()})).then((function(e){n(e.Persons),console.log(e)})).catch((function(e){console.log(e)})).finally((function(){b(!1)}))}),[]),j?Object(d.jsx)("div",{class:"d-flex justify-content-center",children:Object(d.jsx)("div",{class:"spinner-border",role:"status",children:Object(d.jsx)("span",{class:"sr-only",children:"Loading..."})})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4 ",children:[Object(d.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"Club Patrons"}),Object(d.jsxs)(o.b,{to:"/user-create",class:" d-sm-inline-block btn btn-sm btn-primary shadow-sm  mt-4",children:[Object(d.jsx)("i",{class:"fas fa-plus-square fa-sm text-white-50"})," Add Member"]})]}),Object(d.jsxs)("div",{class:"card shadow mb-4",children:[Object(d.jsx)("div",{class:"card-header py-3",children:Object(d.jsx)("h6",{class:"m-0 font-weight-bold text-primary",children:"Members List"})}),Object(d.jsx)("div",{class:"card-body",children:Object(d.jsx)("div",{class:"table-responsive",children:Object(d.jsxs)("table",{class:"table table-bordered table-striped ",id:"dataTable",width:"100%",cellspacing:"0",children:[Object(d.jsx)("thead",{className:"table-dark",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID "}),Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Gender"}),Object(d.jsx)("th",{children:"Address"}),Object(d.jsx)("th",{children:"Club"}),Object(d.jsx)("th",{children:"Sector"}),Object(d.jsx)("th",{children:"SectorName"}),Object(d.jsx)("th",{children:"JoinDate"}),Object(d.jsx)("th",{children:"LeaveDate"}),Object(d.jsx)("th",{children:"Phone"}),Object(d.jsx)("th",{children:"Status"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{className:"font-weight-bold text-capitalize text-dark text-center",children:a.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.Id}),Object(d.jsx)("td",{children:e.Name}),Object(d.jsx)("td",{className:"text-center",children:"male"===e.Gender?"M":"female"===e.Gender?"F":"other"===e.Gender?"T":"Not Specified"}),Object(d.jsx)("td",{className:"text-center",children:e.Address?e.Address:" - "}),Object(d.jsx)("td",{children:e.Club}),Object(d.jsx)("td",{children:e.Sector}),Object(d.jsx)("td",{children:e.SectorName}),Object(d.jsx)("td",{children:e.JoinDate}),Object(d.jsx)("td",{children:e.LeaveDate?e.LeaveDate:"Not-Yet"}),Object(d.jsx)("td",{children:e.Phone}),Object(d.jsx)("td",{children:e.Active?Object(d.jsx)("p",{className:"badge badge-success btn-block",children:"Active"}):Object(d.jsx)("p",{className:"badge badge-danger btn-block",children:"Inactive"})}),Object(d.jsx)("td",{children:Object(d.jsx)(o.b,{to:"/user-edit/"+e.Id,className:"btn btn-outline-info btn-block ",title:"View Record",children:Object(d.jsx)("i",{class:"fas fa-eye"})})})]})}))})]})})})]})]})};var w=function(){var e,t=i().token,c=Object(s.useState)(""),a=Object(l.a)(c,2),n=a[0],r=a[1],o=Object(s.useState)(""),j=Object(l.a)(o,2),b=j[0],u=j[1],m=Object(s.useState)(""),O=Object(l.a)(m,2),p=O[0],g=O[1],v=Object(s.useState)(""),N=Object(l.a)(v,2),w=N[0],y=N[1],S=Object(s.useState)(""),k=Object(l.a)(S,2),C=k[0],A=k[1],T=Object(s.useState)(""),D=Object(l.a)(T,2),L=D[0],E=D[1],M=Object(s.useState)(""),F=Object(l.a)(M,2),q=F[0],P=F[1],I=Object(s.useState)(!1),B=Object(l.a)(I,2),U=B[0],G=B[1],H=Object(s.useState)([]),J=Object(l.a)(H,2),W=J[0],R=J[1],Y=Object(s.useContext)(h),z=Object(f.f)();return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"New Patron Form"}),Object(d.jsxs)("form",{"data-toggle":"validator",onSubmit:function(e){e.preventDefault(),console.log(n,b,p,w),x()({method:"post",url:Y+"api/v1/person",data:{Name:n,Gender:b,Club:C,Address:L,Sector:p,SectorName:q,Phone:w},headers:{"admin-username":t}}).then((function(e){z.push("/user"),G(!0)})).catch((function(e){console.log(e),G(!1)}))},children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-lg-6 form-group",children:[Object(d.jsx)("label",{className:"required text-dark",children:"Name"}),Object(d.jsx)("input",{type:"text",name:"name",value:n,onChange:function(e){return r(e.target.value)},className:"form-control w-auto",required:!0})]}),Object(d.jsxs)("div",{className:"col-lg-6 form-group",children:[Object(d.jsx)("label",{className:"required text-dark",children:"Gender"}),Object(d.jsxs)("select",{type:"text",name:"gender",value:b,onChange:function(e){return u(e.target.value)},className:"form-control w-auto text-dark",required:!0,children:[Object(d.jsx)("option",{value:"",children:"SELECT-GENDER"}),Object(d.jsx)("option",{value:"male",children:"MALE"}),Object(d.jsx)("option",{value:"female",children:"FEMALE"}),Object(d.jsx)("option",{value:"other",children:"OTHER"})]})]})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-lg-6 form-group",children:[Object(d.jsx)("label",{className:"",children:"Address"}),Object(d.jsx)("textarea",{name:"address",value:L,onChange:function(e){return E(e.target.value)},className:"form-control w-auto",maxLength:"50"})]}),Object(d.jsxs)("div",{className:"col-lg-6 form-group",children:[Object(d.jsx)("label",{className:"required text-dark",children:"Club"}),Object(d.jsxs)("select",{type:"text",name:"club",value:C,onChange:function(e){A(e.target.value)},className:"form-control w-auto text-dark",required:!0,children:[Object(d.jsx)("option",{value:"",children:"SELECT-CLUB"}),Object(d.jsx)("option",{value:"SCBC",children:"SCBC"}),Object(d.jsx)("option",{value:"KSMA",children:"KSMA"})]})]})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-lg-6 form-group",children:[Object(d.jsx)("label",{className:"required",children:"Sector"}),Object(d.jsxs)("select",{name:"sector",value:p,onChange:function(t){console.log(t.target.value),g(t.target.value),e=t.target.value,x.a.get(Y+"api/v1/sector",{params:{type:e},headers:{active:!0}}).then((function(e){R(e.data.Sectors),console.log(e)})).catch((function(e){console.log(e)})).finally((function(){}))},className:"form-control w-auto",required:!0,children:[Object(d.jsx)("option",{value:"",children:"SELECT-SECTOR"}),Object(d.jsx)("option",{value:"BATCH",children:"BATCH"}),Object(d.jsx)("option",{value:"SLOT",children:"SLOT"})]})]}),Object(d.jsxs)("div",{className:"col-lg-6 form-group",children:[Object(d.jsx)("label",{className:"required text-dark",children:"Sector Name"}),Object(d.jsxs)("select",{type:"text",name:"sectorName",value:q,onChange:function(e){return P(e.target.value)},className:"form-control w-auto text-dark",required:!0,children:[Object(d.jsx)("option",{value:"",children:"SELECT-SECTOR-NAME"}),W&&W.map((function(e){return Object(d.jsx)("option",{value:e.Name,children:e.Name})}))]})]}),Object(d.jsxs)("div",{className:"col-lg-3 form-group",children:[Object(d.jsx)("label",{className:"required text-dark",children:"Phone"}),Object(d.jsx)("input",{type:"text",name:"phone",value:w,maxLength:"10",onChange:function(e){return y(e.target.value)},className:"form-control w-auto",required:!0})]})]}),Object(d.jsx)("div",{className:"row mt-3",children:Object(d.jsx)("div",{className:"col-lg-12 form-group",children:Object(d.jsx)("input",{className:"btn btn-primary",type:"submit",disabled:U})})})]})]})};var y=function(e){var t=i().token,c=Object(f.f)(),a=e.match.params.id,n=Object(s.useContext)(h),r=Object(s.useState)([]),o=Object(l.a)(r,2),j=o[0],b=o[1],u=Object(s.useState)(!1),m=Object(l.a)(u,2),O=m[0],p=m[1];return Object(s.useEffect)((function(){p(!0),fetch(n+"api/v1/person",{method:"get",headers:{"person-id":a}}).then((function(e){return e.json()})).then((function(e){b(e.Person),console.log(e.Person)})).catch((function(e){console.log(e)})).finally((function(){p(!1)}))}),[]),O?Object(d.jsx)("div",{class:"text-center ",children:Object(d.jsx)("div",{class:"spinner-border",role:"status",children:Object(d.jsx)("span",{class:"sr-only",children:"Loading..."})})}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{className:"h1 text-dark font-weight-bold ml-5",children:[" ",j.Name]}),Object(d.jsxs)("div",{className:"container-fluid mt-5",children:[Object(d.jsxs)("ul",{className:"list-group font-weight-bold text-dark ",children:[Object(d.jsxs)("li",{className:"list-group-item",children:["Member ID : ",j.Id]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Member Name: ",j.Name]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Member Gender: ",j.Gender]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Sector : ",j.Sector]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Join Date : ",j.JoinDate]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Leave Date : ",j.LeaveDate?j.LeaveDate:Object(d.jsx)("span",{className:"badge badge-danger",children:"Not-yet"})]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Status : ",j.Active?Object(d.jsx)("span",{className:"badge badge-success",children:"Active"}):Object(d.jsx)("span",{className:"badge badge-danger",children:"Inactive"})]})]}),Object(d.jsx)("button",{className:"btn btn-outline-danger btn-block",title:"Delete",onClick:function(){console.log(a),x.a.delete(n+"api/v1/person",{headers:{"admin-username":t,"person-id":a}}).then((function(e){console.log(e),c.push("/user")})).catch((function(e){console.log(e)}))},children:Object(d.jsx)("i",{class:"fas fa-trash"})})]})]})},S=c(78),k=a.a.createContext(),C=k,A=function(e){var t=e.children,c=Object(s.useState)([]),a=Object(l.a)(c,2),n=a[0],r=a[1];return Object(d.jsx)(k.Provider,{value:{adminData:n,setAdminData:r},children:t})};var T=function(){var e=Object(s.useContext)(h);v()(document).ready((function(){v()("#dataTable").DataTable()}));var t=Object(s.useState)([]),c=Object(l.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)(!1),i=Object(l.a)(r,2),j=i[0],b=i[1],u=Object(s.useContext)(C);if(Object(s.useEffect)((function(){b(!0),fetch(e+"api/v1/user").then((function(e){return e.json()})).then((function(e){n(e.Users)})).catch((function(e){console.log(e)})).finally((function(){b(!1)}))}),[]),j)return Object(d.jsx)("div",{class:"d-flex justify-content-center align-items-center",children:Object(d.jsx)("div",{class:"spinner-border fs-3",role:"status",children:Object(d.jsx)("span",{class:"sr-only",children:"Loading..."})})});var m=function(){console.log(a),u.setAdminData(Object(S.a)(a)),console.log(u)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(d.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"Admin Management"}),Object(d.jsxs)(o.b,{to:"/admin-create",class:" d-sm-inline-block btn btn-sm btn-primary shadow-sm mt-4",children:[Object(d.jsx)("i",{class:"fas fa-plus-square fa-sm text-white-50"})," Add Admin"]})]}),Object(d.jsxs)("div",{class:"card shadow mb-4",children:[Object(d.jsx)("div",{class:"card-header py-3",children:Object(d.jsx)("h6",{class:"m-0 font-weight-bold text-primary",children:"Admin Users List"})}),Object(d.jsx)("div",{class:"card-body",children:Object(d.jsx)("div",{class:"table-responsive",children:Object(d.jsxs)("table",{class:"table table-bordered",id:"dataTable",width:"100%",cellspacing:"0",children:[Object(d.jsx)("thead",{className:"table-dark",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"UserName"}),Object(d.jsx)("th",{children:"Admin Access"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{className:"font-weight-bold text-dark text-center",children:a.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.Username}),Object(d.jsx)("td",{children:e.AdminAccess?Object(d.jsx)("span",{className:"badge badge-success",children:"YES"}):Object(d.jsx)("span",{className:"badge badge-danger",children:"NO"})}),Object(d.jsx)("td",{children:Object(d.jsx)(o.b,{className:"btn btn-outline-info btn-block",title:"View",to:"/admin-edit/"+e.Username,onClick:m,children:Object(d.jsx)("i",{class:"fas fa-eye"})})})]})}))})]})})})]})]})},D=c(54),L=c.n(D),E=c(160),M=c(55),F=c.n(M),q=c(161),P=c(167);var I=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(""),r=Object(l.a)(n,2),o=r[0],j=r[1],b=Object(s.useState)(""),u=Object(l.a)(b,2),m=u[0],O=u[1],p=i().token,g=Object(s.useContext)(h),v=Object(f.f)(),N=Object(s.useState)(!1),w=Object(l.a)(N,2),y=w[0],S=w[1];return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Admin  Form"}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-lg-6",children:[Object(d.jsx)("label",{children:"Name"}),Object(d.jsx)("input",{type:"text",name:"name",className:"form-control",value:c,onChange:function(e){return a(e.target.value)},required:!0})]})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsx)(P.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:y?"text":"password",id:"password",autoComplete:"current-password",onChange:function(e){return j(e.target.value)},InputProps:{endAdornment:Object(d.jsx)(E.a,{position:"end",children:Object(d.jsx)(q.a,{"aria-label":"toggle password visibility",onClick:function(){return S(!y)},onMouseDown:function(){return S(!y)},children:y?Object(d.jsx)(L.a,{}):Object(d.jsx)(F.a,{})})})}})}),Object(d.jsxs)("div",{className:"col-lg-3",children:[Object(d.jsx)("label",{children:"Admin Access"}),Object(d.jsxs)("select",{name:"adminaccess",value:m,onChange:function(e){return O(e.target.value)},className:"form-control",required:!0,children:[Object(d.jsx)("option",{value:"",children:"-SELECT-"}),Object(d.jsx)("option",{value:"true",children:"Yes"}),Object(d.jsx)("option",{value:"false",children:"No"})]})]})]}),Object(d.jsx)("div",{className:"row mt-3",children:Object(d.jsx)("div",{className:"col-lg-12",children:Object(d.jsx)("input",{className:"btn btn-primary",type:"submit",onClick:function(){x()({method:"post",url:g+"api/v1/user",data:{Username:c,Password:o,AdminAccess:m},headers:{"admin-username":p}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),v.push("/")}})})})]})};var B=function(e){var t=i().token,c=e.match.params.id,a=Object(s.useContext)(h),n=Object(s.useContext)(C).adminData,r=Object(f.f)();return Object(d.jsxs)("div",{className:"container ",children:[Object(d.jsx)("h1",{className:" h1 text-muted",children:"Admin Management"}),n.map((function(e){return e.Username!==c||Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("ul",{className:"list-group mb-5 text-center text-dark font-weight-bold text-uppercase",children:[Object(d.jsxs)("li",{className:"list-group-item",children:["Username: ",e.Username]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Admin Acess :",e.AdminAccess?Object(d.jsx)("span",{className:"badge badge-success",children:" Yes "}):Object(d.jsx)("span",{className:"badge badge-danger",children:" No "})]})]})})})),Object(d.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:function(){x.a.delete(a+"api/v1/user",{headers:{"admin-username":t,"delete-username":c}}).then((function(e){console.log(e),r.push("/admin")})).catch((function(e){console.log(e)}))},children:"Delete"})]})};var U=function(){var e=this,t=Object(s.useContext)(h),c=i().token,a=Object(s.useState)([]),n=Object(l.a)(a,2),r=n[0],j=n[1],b=Object(s.useState)(!1),u=Object(l.a)(b,2),m=u[0],O=u[1],p=Object(f.f)(),g=function(e){x.a.delete(t+"api/v1/sector",{headers:{"admin-username":c,name:e},params:{type:"BATCH"}}).then((function(e){console.log(e),p.push("/")})).catch((function(e){console.log(e)}))};return Object(s.useEffect)((function(){x.a.get(t+"api/v1/sector",{params:{type:"BATCH"},headers:{active:!0}}).then((function(e){j(e.data.Sectors)})).catch((function(e){console.log(e)})).finally((function(){O(!1)}))}),[]),m?Object(d.jsxs)("div",{class:"d-flex align-items-center",children:[Object(d.jsx)("strong",{children:"Loading..."}),Object(d.jsx)("div",{class:"spinner-border ml-auto",role:"status","aria-hidden":"true"})]}):Object(d.jsxs)("div",{className:"Container ",children:[Object(d.jsxs)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(d.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"Batch Management"}),Object(d.jsxs)(o.b,{to:"/manage-batch",class:"d-none d-sm-inline-block btn btn-sm btn-outline-warning text-dark shadow-sm",children:[Object(d.jsx)("i",{class:"fas fa-cog fa-sm w-auto"})," Manage Batch"]})]}),r.map((function(t){return Object(d.jsxs)("ul",{className:"list-group mt-2 text-dark font-weight-bold text-capitalize",children:[Object(d.jsxs)("li",{className:"list-group-item",children:["Batch Name: ",t.Name]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Fees : \u20b9",t.Fees]}),Object(d.jsxs)("li",{className:"list-group-item ",children:["Status : ",t.Active?Object(d.jsx)("span",{className:"badge badge-success",children:"Active"}):Object(d.jsx)("span",{className:"badge badge-danger",children:"Inactive"})]}),Object(d.jsxs)("li",{className:"list-group-item btn btn-outline-danger btn-block ",title:"Delete",onClick:g.bind(e,t.Name),children:[" ",Object(d.jsx)("i",{class:"fas fa-trash"})]})]})}))]})};var G=function(){var e=this,t=i().token,c=Object(s.useState)([]),a=Object(l.a)(c,2),n=a[0],r=a[1],j=Object(s.useState)(!1),b=Object(l.a)(j,2),u=b[0],m=b[1],O=Object(f.f)(),p=Object(s.useContext)(h),g=function(e){x.a.delete(p+"api/v1/sector",{headers:{"admin-username":t,name:e},params:{type:"SLOT"}}).then((function(e){O.push("/")})).catch((function(e){console.log(e)}))};return Object(s.useEffect)((function(){x.a.get(p+"api/v1/sector",{params:{type:"SLOT"},headers:{active:!0}}).then((function(e){r(e.data.Sectors)})).catch((function(e){console.log(e)})).finally((function(){m(!1)}))}),[]),u?Object(d.jsxs)("div",{class:"d-flex align-items-center",children:[Object(d.jsx)("strong",{children:"Loading..."}),Object(d.jsx)("div",{class:"spinner-border ml-auto",role:"status","aria-hidden":"true"})]}):Object(d.jsxs)("div",{className:"Container mt-4",children:[Object(d.jsxs)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:[Object(d.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"Slot Management"}),Object(d.jsxs)(o.b,{to:"/manage-slot",class:"d-none d-sm-inline-block btn btn-sm btn-outline-success shadow-sm text-dark",children:[Object(d.jsx)("i",{class:"fas fa-cog fa-sm "})," Manage Slot"]})]}),n.map((function(t){return Object(d.jsxs)("ul",{className:"list-group mt-2 font-weight-bold text-dark text-capitalize",children:[Object(d.jsxs)("li",{className:"list-group-item ",children:["Batch Name : ",t.Name]}),Object(d.jsxs)("li",{className:"list-group-item",children:["Fees : \u20b9",t.Fees]}),Object(d.jsxs)("li",{className:"list-group-item ",children:["Status : ",t.Active?Object(d.jsx)("span",{className:"badge badge-success",children:"Active"}):Object(d.jsx)("span",{className:"badge badge-danger",children:"Inactive"})]}),Object(d.jsxs)("li",{className:"list-group-item btn btn-outline-danger btn-block ",title:"Delete",onClick:g.bind(e,t.Name),children:[" ",Object(d.jsx)("i",{class:"fas fa-trash"})]})]})}))]})};var H=function(){return Object(d.jsxs)("div",{className:"Container mt-2",children:[Object(d.jsx)("h1",{className:"h2 text-dark",children:"Sector Management"}),Object(d.jsxs)("div",{className:"container mt-5",children:[Object(d.jsx)(U,{}),Object(d.jsx)(G,{})]})]})};var J=function(){var e=i().token,t=Object(s.useState)(""),c=Object(l.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)(""),o=Object(l.a)(r,2),j=o[0],b=o[1],u=Object(f.f)(),m=Object(s.useContext)(h);return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Add Batch"}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-lg-6",children:[Object(d.jsx)("label",{children:"Name"}),Object(d.jsx)("input",{type:"text",name:"Name",className:"form-control w-auto",value:a,onChange:function(e){return n(e.target.value)},required:!0})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-lg-6",children:[Object(d.jsx)("label",{children:"Fees"}),Object(d.jsx)("input",{type:"number",name:"Fees",className:"form-control w-auto",value:j,onChange:function(e){return b(e.target.value)},required:!0})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"row mt-3 ml-5",children:Object(d.jsx)("div",{className:"col-lg-6",children:Object(d.jsx)("input",{className:"btn btn-warning w-auto",type:"submit",onClick:function(){x()({method:"post",url:m+"api/v1/sector",data:{Name:a,Fees:j},params:{type:"BATCH"},headers:{"admin-username":e}}).then((function(e){u.push("/sector")})).catch((function(e){alert(e)}))}})})})})]})};var W=function(){var e=i().token,t=Object(s.useState)(""),c=Object(l.a)(t,2),a=c[0],n=c[1],r=Object(s.useState)(""),o=Object(l.a)(r,2),j=o[0],b=o[1],u=Object(f.f)(),m=Object(s.useContext)(h);return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Add Slot"}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-lg-6",children:[Object(d.jsx)("label",{className:"text-dark",children:"Name"}),Object(d.jsx)("input",{type:"text",name:"Name",className:"form-control w-auto",value:a,onChange:function(e){return n(e.target.value)},required:!0})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-lg-6",children:[Object(d.jsx)("label",{children:"Fees"}),Object(d.jsx)("input",{type:"number",name:"Fees",className:"form-control w-auto",value:j,onChange:function(e){return b(e.target.value)},required:!0})]})}),Object(d.jsx)("div",{className:"row mt-4 ",children:Object(d.jsx)("div",{className:"col-lg-12",children:Object(d.jsx)("input",{className:"btn btn-success",type:"submit",onClick:function(t,c){x()({method:"post",url:m+"api/v1/sector",data:{Name:t,Fees:c},params:{type:"SLOT"},headers:{"admin-username":e}}).then((function(e){console.log(e),u.push("/sector")})).catch((function(e){alert(e)}))}.bind(this,a,j)})})})]})},R=function(){return Object(d.jsx)("div",{className:"page-wrap d-flex flex-row align-items-center",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsxs)("div",{className:"col-md-12 text-center",children:[Object(d.jsx)("span",{className:"display-1 d-block",children:"404"}),Object(d.jsx)("div",{className:"mb-4 lead",children:"The page you are looking for was not found."}),Object(d.jsx)(o.b,{to:"/",className:"btn btn-link",children:"   Back to Home  "})]})})})})},Y=c(48),z=c.n(Y),V=c(62),K=c(169),Q=c(166),_=c(165),X=c(162),Z=c(168),$=c(77),ee=c.n($),te=c(80),ce=c(163),se=c(164);function ae(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(V.a)(z.a.mark((function e(t,c){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cba-cors.herokuapp.com/","https://cba-adminws-dev.herokuapp.com/",e.abrupt("return",fetch("https://cba-cors.herokuapp.com/https://cba-adminws-dev.herokuapp.com//api/v1/user",{method:"GET",headers:{username:t,password:c}}).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return Object(d.jsxs)(te.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(d.jsx)(X.a,{color:"inherit",href:"https://www.quartciphers.in/",target:"_blank",children:"QC"})," ",(new Date).getFullYear(),"."]})}var le=Object(ce.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ie(e){var t=e.setToken,c=le(),a=Object(s.useState)(),n=Object(l.a)(a,2),r=n[0],i=n[1],o=Object(s.useState)(),j=Object(l.a)(o,2),b=j[0],h=j[1],u=Object(s.useState)(!1),m=Object(l.a)(u,2),x=m[0],O=m[1],p=Object(s.useState)(!1),f=Object(l.a)(p,2),g=f[0],v=f[1],N=function(){var e=Object(V.a)(z.a.mark((function e(c){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),v(!0),e.next=4,ae(r,b);case 4:if(!e.sent.CredentialMatch){e.next=10;break}t(r),window.location.reload(),e.next=12;break;case 10:return v(!1),e.abrupt("return",alert("Wrong Credentials : Invalid Username / Password"));case 12:c.reset();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return g?Object(d.jsx)("div",{class:"container-fluid ",children:Object(d.jsxs)("div",{class:"text-center ",children:[Object(d.jsx)("p",{className:"font-weight-bold h1",children:"Verifying User Credentials"}),Object(d.jsx)("div",{class:"spinner-border ",role:"status",children:Object(d.jsx)("span",{class:"sr-only",children:"Loading..."})})]})}):Object(d.jsxs)(se.a,{component:"main",maxWidth:"xs",children:[Object(d.jsx)(_.a,{}),Object(d.jsxs)("div",{className:c.paper,children:[Object(d.jsx)(K.a,{className:c.avatar,children:Object(d.jsx)(ee.a,{})}),Object(d.jsx)(te.a,{component:"h1",variant:"h5",children:"Admin Panel"}),Object(d.jsxs)("form",{className:c.form,onSubmit:N,children:[Object(d.jsx)(P.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return i(e.target.value)}}),Object(d.jsx)(P.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:x?"text":"password",id:"password",autoComplete:"current-password",onChange:function(e){return h(e.target.value)},InputProps:{endAdornment:Object(d.jsx)(E.a,{position:"end",children:Object(d.jsx)(q.a,{"aria-label":"toggle password visibility",onClick:function(){return O(!x)},onMouseDown:function(){return O(!x)},children:x?Object(d.jsx)(L.a,{}):Object(d.jsx)(F.a,{})})})}}),Object(d.jsx)(Q.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,children:"Sign In"})]})]}),Object(d.jsx)(Z.a,{mt:8,children:Object(d.jsx)(re,{})})]})}var oe=function(){var e=i(),t=e.token,c=e.setToken;return t?Object(d.jsx)(u,{children:Object(d.jsx)(A,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)("div",{id:"wrapper",children:Object(d.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(d.jsxs)("div",{id:"content",children:[Object(d.jsx)(j,{}),Object(d.jsx)("div",{class:"container-fluid",children:Object(d.jsxs)(f.c,{children:[Object(d.jsx)(f.a,{path:"/",component:p,exact:!0}),Object(d.jsx)(f.a,{path:"/user",component:N,exact:!0}),Object(d.jsx)(f.a,{path:"/user-create",component:w,exact:!0}),Object(d.jsx)(f.a,{path:"/user-edit/:id",component:y,exact:!0}),Object(d.jsx)(f.a,{path:"/admin",component:T,exact:!0}),Object(d.jsx)(f.a,{path:"/admin-create",component:I,exact:!0}),Object(d.jsx)(f.a,{path:"/admin-edit/:id",component:B,exact:!0}),Object(d.jsx)(f.a,{path:"/sector",component:H,exact:!0}),Object(d.jsx)(f.a,{path:"/manage-batch",component:J,exact:!0}),Object(d.jsx)(f.a,{path:"/manage-slot",component:W,exact:!0}),Object(d.jsx)(f.a,{component:R,exact:!0})]})})]})})})})})}):Object(d.jsx)(ie,{setToken:c})},de=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,172)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),s(e),a(e),n(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(oe,{})})}),document.getElementById("root")),de()},97:function(e,t,c){}},[[125,1,2]]]);
//# sourceMappingURL=main.fb0b8792.chunk.js.map